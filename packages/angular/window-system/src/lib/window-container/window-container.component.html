<div #container
     (cdkDragEnded)="onDragEnded($event)"
     [cdkDragDisabled]="windowRef.draggable === false"
     [ngStyle]="{
     'width': width$ | async,
     'height': height$ | async,
     'minWidth': windowRef.minWidth,
     'minHeight': windowRef.minHeight,
     'maxWidth': windowRef.maxWidth,
     'maxHeight': windowRef.maxHeight
     }"
     cdkDrag
     cdkDragBoundary=".cdk-overlay-container"
     class="window-container mat-elevation-z4 mat-drawer-container"
     fxLayout="column">

  <div cdkDragHandle class="tool-bar" fxFlex="nogrow">
    <rxap-window-tool-bar></rxap-window-tool-bar>
  </div>

  <div class="content" fxFlex="grow">
    <ng-content></ng-content>
  </div>

  <mat-toolbar *ngIf="windowRef.footerPortal$ | async as footerPortal" class="footer mat-elevation-z1"
               fxFlex="nogrow">
    <ng-template [cdkPortalOutlet]="footerPortal"></ng-template>
  </mat-toolbar>

  <mat-progress-bar *ngIf="windowInstance.isLoading$ | async" mode="indeterminate"></mat-progress-bar>

  <rxap-window-resizer [containerRef]="containerRef"></rxap-window-resizer>

</div>
