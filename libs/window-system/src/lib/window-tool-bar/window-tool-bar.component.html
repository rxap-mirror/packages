<mat-toolbar class="header" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="1.5rem">
  <div fxFlex="nogrow" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1.0rem">
    <ng-template [ngIf]="windowRef.titlePortal$ | async" [ngIfElse]="titleFromSettings" let-titlePortal>
      <ng-template [cdkPortalOutlet]="titlePortal"></ng-template>
    </ng-template>
    <ng-template #titleFromSettings>
      <ng-template [ngIf]="windowRef.settings$ | async" let-settings>
        <mat-icon *ngIf="settings.icon" [rxapIcon]="settings.icon" fxFlex="40px"></mat-icon>
        <h3 *ngIf="settings.title" fxFlex="nogrow">{{settings.title}}</h3>
      </ng-template>
    </ng-template>
  </div>
  <div fxFlex="nogrow" fxLayout="row" fxLayoutAlign="start center">
    <button (click)="windowRef.minimize()" *ngIf="windowRef.settings.minimizable !== false" fxFlex="40px" mat-icon-button type="button">
      <mat-icon>minimize</mat-icon>
    </button>
    <button (click)="windowRef.fullScreen()" fxFlex="40px" mat-icon-button type="button">
      <mat-icon>fullscreen</mat-icon>
    </button>
    <button (click)="windowRef.complete()" fxFlex="40px" mat-icon-button type="button">
      <mat-icon>close</mat-icon>
    </button>
  </div>
</mat-toolbar>
