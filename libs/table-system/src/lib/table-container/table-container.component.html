<ng-template [ngIfElse]="loading" [ngIf]="loaded">
  <mat-card class="mat-elevation-z1">
    <mat-card-header *ngIf="tableDefinition">
      <mat-menu #menu="matMenu" xPosition="before">
      <span
        (click)="$event.stopPropagation()"
        *ngFor="let column of tableDefinition.menuColumns; trackBy: menuColumnTrack"
        [disableRipple]="true"
        mat-menu-item
      >
        <mat-checkbox
          (change)="tableDefinition.toggleColumn(column.id)"
          [checked]="!tableDefinition.isColumnHidden(column.id)"
        >{{ column.header | translate }}</mat-checkbox
        >
      </span>
        <!--  <mat-divider></mat-divider>-->
        <!--  <span (click)="$event.stopPropagation()" [disableRipple]="true" mat-menu-item>-->
        <!--    <mat-slide-toggle (toggleChange)="dataSource.toggleShowArchived()">{{-->
        <!--      'DX.TABLES.SHOW_ARCHIVED_DOCUMENTS' | translate-->
        <!--      }}</mat-slide-toggle>-->
        <!--  </span>-->
      </mat-menu>
      <div *ngIf="tableDefinition.hasAddRow" mat-card-avatar>
        <button (click)="tableDefinition.addRow()" mat-mini-fab type="button">
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <mat-card-title>{{ tableDefinition.__title | translate }}</mat-card-title>
      <mat-card-subtitle *ngIf="tableDefinition.__subTitle">{{
        tableDefinition.__subTitle | translate
        }}</mat-card-subtitle>
      <button
        [matMenuTriggerFor]="menu"
        mat-icon-button
        style="position: absolute; right: 16px; z-index: 1000"
        type="button"
      >
        <mat-icon svgIcon="tune"></mat-icon>
      </button>
    </mat-card-header>
    <mat-card-content>
      <div class="table-container">
        <rxap-webix-data-table #dataTable></rxap-webix-data-table>
      </div>
    </mat-card-content>
    <mat-card-actions></mat-card-actions>
  </mat-card>
</ng-template>
<ng-template #loading>Loading ...</ng-template>
